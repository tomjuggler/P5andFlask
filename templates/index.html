<!DOCTYPE html>
<html lang="en" dir="ltr">
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script> -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
  integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
  integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

<head id="head">
  <meta charset="utf-8">
  <title class="title" id="title">K8 Virtual Juggling</title>
</head>

<body id="body">
  <h1> K8 Virtual Juggling </h1>
  <button id="chooser">Change your pattern</button>
  <!-- <p> Choose your pattern... </p>Ë™ -->

  <!-- Form where all the pattern buttons go: -->
  <form id="form" method="post" action="/" style="display: none;"></form>

  <br>
  <br>
</body>

</html>

<script>

  let light = {{ variable | tojson}}; //load variable from python!
  console.log("light is: " + light);

  let pattern = "{{pattern}}";
  console.log("pattern is: " + pattern);

  var data = JSON.parse('{{data | tojson | safe}}');
  var threeBalls = data.threeBall;
  var fourBalls = data.fourBall;
  var fiveBalls = data.fiveBall;
  var sixBalls = data.sixBall;

  // console.log(threeBalls);
  // threeBalls.forEach(function (pat) {
  //   console.log(pat);
  // });
  // console.log("data :" + data);


  $(document).ready(function () {
    console.log("ready");
    $("#chooser").click(function(){
        $("#form").show();
    });

    threeBalls.forEach(function (pat) {
      console.log(pat);
      $("#form").append($('<input type="submit" style="width: 200px; height: 40px;" value="' + pat + '" name="' + pat + '" />'));
    }); 
    fourBalls.forEach(function (pat) {
      console.log(pat);
      $("#form").append($('<input type="submit" style="width: 200px; height: 40px;" value="' + pat + '" name="' + pat + '" />'));
    }); 
    fiveBalls.forEach(function (pat) {
      console.log(pat);
      $("#form").append($('<input type="submit" style="width: 200px; height: 40px;" value="' + pat + '" name="' + pat + '" />'));
    }); 
    sixBalls.forEach(function (pat) {
      console.log(pat);
      $("#form").append($('<input type="submit" style="width: 200px; height: 40px;" value="' + pat + '" name="' + pat + '" />'));
    }); 
  });

</script>

<script src="https://cdn.jsdelivr.net/npm/p5@1.2.0/lib/p5.js"></script>
<script src="{{url_for('static', filename='sketch.js')}}"></script>